<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Pathfinder</title>
  <link href="https://unpkg.com/nes.css/css/nes.min.css" rel="stylesheet" />
  <link href="https://fonts.googleapis.com/css?family=Press+Start+2P&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="styles/main.css" />
</head>
<body>

  <!-- Start Screen -->
  <div id="startScreen" class="screen">
    <!-- Background Image -->
    <div class="background"></div>

    <!-- HUD -->
    <div class="hud">
      <span id="timeNow" class="hud-time">ğŸ•’ --:--</span>
      <span id="timePhase" class="hud-phase">Loading...</span>
      <span class="hud-settings">âš™ï¸</span>
    </div>

    <!-- Center Content -->
    <div class="content">
      <h1 class="pixel-title">Letâ€™s Build Your Day</h1>
      <button id="startButton" class="nes-btn is-success">START</button>
    </div>

    <!-- Foreground Sprites -->
    <div class="foreground">
      <img src="images/character.png" alt="character" />
      <img src="images/sign.png" alt="signpost" />
      <img src="images/cat.png" alt="cat" />
    </div>
  </div>

  <!-- Morning Question Screen -->
  <div id="morningScreen" class="screen" style="display:none;">
    <!-- Background Image -->
    <div class="background"></div>

    <!-- HUD -->
    <div class="hud">
      <span id="timeNow" class="hud-time">ğŸ•’ --:--</span>
      <span id="timePhase" class="hud-phase">Loading...</span>
      <span class="hud-settings">âš™ï¸</span>
    </div>

    <!-- Question Box -->
    <div class="question-box nes-container is-rounded is-dark">
      <p>Do you want to start your day active?</p>
      <div class="button-row">
        <button class="nes-btn is-success">Yes</button>
        <button class="nes-btn is-error">No</button>
      </div>
    </div>

    <!-- Navigation -->
    <div class="nav-controls">
      <span class="nes-text">â† Go back</span>
      <span class="nes-text">Skip â†’</span>
    </div>

    <!-- Foreground Sprites -->
    <div class="foreground">
      <img src="images/character.png" alt="character" />
      <img src="images/sign.png" alt="signpost" />
      <img src="images/cat.png" alt="cat" />
    </div>
  </div>

  <!-- Script -->
  <script>
    function updateTimeAndPhase() {
      const now = new Date();
      let hours = now.getHours();
      const minutes = now.getMinutes().toString().padStart(2, '0');

      const isAM = hours < 12;
      const displayHours = (hours % 12 || 12).toString();
      const ampm = isAM ? 'AM' : 'PM';
      const timeStr = `ğŸ•’ ${displayHours}:${minutes} ${ampm}`;

      // Update all time elements
      document.querySelectorAll('#timeNow').forEach(el => {
        el.textContent = timeStr;
      });

      // Set phase
      let phase = '';
      if (hours >= 5 && hours < 12) {
        phase = "Itâ€™s morning";
      } else if (hours >= 12 && hours < 17) {
        phase = "Itâ€™s midday";
      } else if (hours >= 17 && hours < 21) {
        phase = "Itâ€™s evening";
      } else {
        phase = "Itâ€™s night";
      }

      document.querySelectorAll('#timePhase').forEach(el => {
        el.textContent = phase;
      });
    }

    // Run on load and every 30 seconds
    updateTimeAndPhase();
    setInterval(updateTimeAndPhase, 30000);

    // Transition screen on START
    document.getElementById('startButton').addEventListener('click', () => {
      document.getElementById('startScreen').style.display = 'none';
      document.getElementById('morningScreen').style.display = 'flex';
    });
  </script>

</body>
</html>